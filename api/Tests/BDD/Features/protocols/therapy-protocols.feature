Feature: Specialized Therapy Protocols and Clinical Procedures
  As a therapy professional
  I want to implement evidence-based therapy protocols
  So that I can deliver standardized, effective treatments

  Background:
    Given specialized therapy protocols are available
    And clinical procedures are documented
    And fidelity tracking is enabled
    And outcome measurements are integrated
    And training requirements are defined

  # Evidence-Based Protocols
  @protocols @therapy @evidence-based @prompt-protocol @critical @not-implemented
  Scenario: Implement PROMPT therapy protocol for motor speech
    Given PROMPT is a tactile-kinesthetic approach
    And certification is required for implementation
    When implementing PROMPT protocol:
      | Protocol Component | Implementation | Fidelity Measures | Training Required | Documentation | Outcomes |
      | System Analysis | Motor subsystems assessment | SAO completion | Level I certification | Digital SAO forms | Baseline established |
      | Parameter selection | PROMPT parameters | Parameter tracking | Hands-on training | Session notes | Progress monitoring |
      | Tactile cues | Surface/complex prompts | Cue accuracy | Bridging training | Cue documentation | Motor accuracy |
      | Hierarchy planning | Treatment hierarchy | Progression tracking | Case consultation | Treatment plans | Skill progression |
      | Family training | Home practice | Parent competency | Parent education | Training videos | Generalization |
      | Data collection | Trial-by-trial | Fidelity checklists | Data training | Progress graphs | Outcome measurement |
    Then PROMPT protocol should be implemented correctly
    And fidelity should be maintained
    And progress should be tracked
    And outcomes should improve

  @protocols @therapy @neurodevelopmental @ndt-bobath @critical @not-implemented
  Scenario: Apply Neuro-Developmental Treatment approaches
    Given NDT/Bobath focuses on movement quality
    And handling techniques require training
    When implementing NDT protocol:
      | Treatment Element | Therapeutic Handling | Key Points | Documentation | Caregiver Training | Outcomes |
      | Postural assessment | Alignment analysis | Base of support | Photo documentation | Positioning education | Postural control |
      | Movement analysis | Quality observation | Movement patterns | Video analysis | Home program | Movement efficiency |
      | Facilitation | Handling techniques | Key points of control | Technique notes | Hands-on practice | Active movement |
      | Inhibition | Tone management | Relaxation techniques | Response tracking | Daily strategies | Normalized tone |
      | Weight bearing | Progressive loading | Joint protection | Load progression | Safety precautions | Strength gains |
      | Functional integration | Task practice | Real-world application | Goal attainment | Activity modification | Independence |
    Then NDT principles should guide treatment
    And movement quality should improve
    And function should be enhanced
    And carryover should occur

  @protocols @therapy @sensory-integration @ayres-si @high @not-implemented
  Scenario: Implement Ayres Sensory Integration intervention
    Given SI addresses sensory processing challenges
    And specialized equipment is required
    When delivering SI intervention:
      | SI Component | Equipment Used | Therapeutic Use | Safety Protocols | Data Collection | Expected Changes |
      | Vestibular input | Swings, boards | Graded movement | Secure suspension | Tolerance tracking | Improved regulation |
      | Proprioceptive | Weighted items | Deep pressure | Weight limits | Response monitoring | Body awareness |
      | Tactile experiences | Textures, brushing | Desensitization | Hygiene protocols | Preference changes | Touch tolerance |
      | Praxis activities | Obstacle courses | Motor planning | Fall protection | Skill progression | Motor planning |
      | Adaptive responses | Challenge activities | Just-right challenge | Continuous monitoring | Success rate | Problem solving |
      | Self-regulation | Calming strategies | Co-regulation | Behavioral tracking | Strategy use | Emotional regulation |
    Then sensory processing should improve
    And adaptive responses should develop
    And self-regulation should increase
    And participation should expand

  # Feeding and Oral Motor Protocols
  @protocols @therapy @feeding @sos-approach @critical @not-implemented
  Scenario: Implement Sequential Oral Sensory feeding protocol
    Given SOS addresses feeding difficulties systematically
    And multidisciplinary team is involved
    When following SOS protocol:
      | Protocol Stage | Activities | Progression Criteria | Team Members | Documentation | Outcomes |
      | Sensory exploration | Looking, touching | Tolerance without distress | OT, SLP, RD | Food log | Increased interaction |
      | Motor practice | Oral motor exercises | Coordinated movements | SLP lead | Skill checklist | Improved coordination |
      | Food interaction | Play with food | Touching willingly | All team | Interaction chart | Reduced aversion |
      | Tasting | Licking, spitting ok | Any oral contact | Parent included | Progress notes | Oral acceptance |
      | Eating | Chewing, swallowing | Consistent intake | Psychologist support | Intake records | Nutritional gains |
      | Generalization | Multiple settings | Home and school | Family centered | Environment log | Flexible eating |
    Then feeding skills should progress systematically
    And anxiety should decrease
    And nutrition should improve
    And family stress should reduce

  @protocols @therapy @communication @hanen-program @high @not-implemented
  Scenario: Deliver Hanen parent-focused intervention
    Given Hanen empowers parents as primary interventionists
    And parent coaching is central
    When implementing Hanen strategies:
      | Program Component | Parent Strategy | Coaching Method | Practice Opportunity | Measurement | Child Outcomes |
      | OWL observation | Observe, Wait, Listen | Video review | Home practice | Strategy checklist | Increased initiations |
      | Following lead | Join child's interest | Live coaching | Play sessions | Interaction coding | Longer interactions |
      | Taking turns | Balanced interaction | Role play | Daily routines | Turn counting | Reciprocal exchanges |
      | Adding language | Expand utterances | Demonstration | Natural contexts | MLU tracking | Language growth |
      | Building routines | Predictable sequences | Planning together | Throughout day | Routine inventory | Anticipation skills |
      | Book sharing | Interactive reading | Guided practice | Bedtime routine | Engagement rating | Literacy interest |
    Then parents should feel empowered
    And strategies should be implemented
    And interactions should improve
    And communication should develop

  # Motor Learning Protocols
  @protocols @therapy @motor-learning @task-specific @high @not-implemented
  Scenario: Apply motor learning principles in therapy
    Given motor learning requires specific practice conditions
    And principles guide skill acquisition
    When implementing motor learning protocol:
      | Learning Phase | Practice Type | Feedback Schedule | Task Variation | Retention Test | Transfer |
      | Acquisition | Blocked practice | Continuous feedback | Low variation | Immediate recall | Same context |
      | Retention | Random practice | Faded feedback | High variation | Delayed test | Near transfer |
      | Transfer | Variable practice | Summary feedback | Context variation | Novel tasks | Far transfer |
      | Motivation | Choice/autonomy | Self-assessment | Difficulty selection | Self-efficacy | Intrinsic motivation |
      | Mental practice | Imagery training | Visualization | Mental rehearsal | Performance test | Cognitive representation |
      | Error augmentation | Amplified errors | Discovery learning | Problem solving | Error reduction | Adaptive control |
    Then motor skills should be acquired efficiently
    And retention should be demonstrated
    And transfer should occur
    And independence should develop

  # Cognitive Rehabilitation Protocols
  @protocols @therapy @cognitive @attention-training @high @not-implemented
  Scenario: Implement attention process training protocol
    Given attention deficits impact function
    And systematic training improves attention
    When delivering APT protocol:
      | Attention Level | Training Tasks | Difficulty Progression | Generalization | Measurement | Functional Impact |
      | Sustained | Continuous performance | Duration increase | Academic tasks | Time on task | Homework completion |
      | Selective | Distractor tasks | Distractor increase | Classroom focus | Accuracy scores | Following directions |
      | Alternating | Task switching | Speed demands | Multi-step activities | Switch cost | Flexible thinking |
      | Divided | Dual tasks | Complexity increase | Real-world demands | Dual-task cost | Multitasking |
      | Executive | Strategy training | Self-monitoring | Daily planning | Strategy use | Independence |
      | Metacognitive | Awareness training | Self-assessment | Error detection | Self-ratings | Self-correction |
    Then attention should improve systematically
    And strategies should be internalized
    And function should improve
    And independence should increase

  # Language Intervention Protocols
  @protocols @therapy @language @milieu-teaching @critical @not-implemented
  Scenario: Implement Enhanced Milieu Teaching protocol
    Given EMT embeds intervention in natural contexts
    And child interests drive interactions
    When using EMT strategies:
      | EMT Strategy | Implementation | Environmental Setup | Adult Behavior | Child Response | Data Collection |
      | Environmental arrangement | Strategic placement | Desired items visible | Wait expectantly | Initiation attempts | Frequency count |
      | Responsive interaction | Follow child lead | Join child activity | Imitate and expand | Increased engagement | Duration measure |
      | Modeling | Target demonstrations | Natural opportunities | Clear models | Imitation attempts | Model/imitation ratio |
      | Mand-model | Elicit requests | Choice situations | "What do you want?" | Verbal requests | Request complexity |
      | Time delay | Wait for initiation | Routine interruption | Expectant look | Spontaneous language | Latency to respond |
      | Incidental teaching | Expand interests | Elaborate materials | Follow up questions | Extended conversation | Turn exchanges |
    Then language should be functional
    And communication should be child-initiated
    And generalization should occur naturally
    And engagement should increase

  # Behavioral Intervention Protocols
  @protocols @therapy @behavioral @positive-behavior-support @critical @not-implemented
  Scenario: Develop Positive Behavior Support plans
    Given PBS focuses on quality of life improvements
    And interventions are function-based
    When implementing PBS protocol:
      | PBS Component | Assessment Method | Intervention Strategy | Implementation | Monitoring | Outcomes |
      | Functional assessment | ABC data, interviews | Hypothesis development | Team planning | Data review | Function identified |
      | Values assessment | Family priorities | Goal alignment | Family-centered | Satisfaction surveys | Meaningful goals |
      | Preventive strategies | Antecedent analysis | Environmental changes | Proactive setup | Prevention success | Reduced triggers |
      | Teaching strategies | Replacement behaviors | Skill instruction | Systematic teaching | Skill acquisition | Functional alternatives |
      | Consequence strategies | Reinforcement planning | Function-based | Consistent application | Behavior change | Desired increases |
      | Lifestyle planning | Quality indicators | Holistic supports | Systems change | Life satisfaction | Improved QOL |
    Then challenging behaviors should decrease
    And replacement skills should increase
    And quality of life should improve
    And systems should support success

  # Social Skills Protocols
  @protocols @therapy @social @social-thinking @high @not-implemented
  Scenario: Implement Social Thinking curriculum
    Given social cognition underlies social skills
    And explicit teaching helps understanding
    When delivering Social Thinking:
      | Curriculum Component | Concepts Taught | Teaching Methods | Practice Activities | Generalization | Measurement |
      | Thinking about others | Perspective taking | Visual supports | Role play | Real situations | Observation rubric |
      | Social expectations | Hidden rules | Direct instruction | Video analysis | Multiple contexts | Rule application |
      | Flexible thinking | Expected/unexpected | Social stories | Problem solving | Novel situations | Flexibility rating |
      | Social problem solving | Size of problem | Scaling activities | Real scenarios | Daily challenges | Problem match |
      | Self-regulation | Zones concepts | Body check-ins | Regulation tools | All environments | Zone identification |
      | Social communication | Conversation skills | Structured practice | Peer interaction | Natural contexts | Interaction quality |
    Then social understanding should improve
    And perspective-taking should develop
    And flexibility should increase
    And relationships should strengthen

  # Trauma-Informed Protocols
  @protocols @therapy @trauma-informed @safety-based @critical @not-implemented
  Scenario: Apply trauma-informed care principles
    Given trauma impacts development and function
    And safety is foundational to healing
    When implementing trauma-informed approach:
      | TIC Principle | Implementation | Environmental Factors | Therapeutic Stance | Monitoring | Outcomes |
      | Safety | Predictable routines | Calm environment | Consistent presence | Stress indicators | Felt safety |
      | Trustworthiness | Clear communication | Transparent process | Reliable follow-through | Trust behaviors | Therapeutic alliance |
      | Collaboration | Shared decisions | Choice opportunities | Power sharing | Participation level | Empowerment |
      | Peer support | Group opportunities | Safe connections | Facilitated interaction | Social engagement | Connection |
      | Empowerment | Strength focus | Success experiences | Competence building | Skill development | Self-efficacy |
      | Cultural responsiveness | Cultural humility | Inclusive materials | Identity affirmation | Cultural expression | Cultural pride |
    Then safety should be established
    And trust should develop
    And healing should occur
    And resilience should build

  # Literacy Intervention Protocols
  @protocols @therapy @literacy @orton-gillingham @high @not-implemented
  Scenario: Implement Orton-Gillingham reading approach
    Given OG provides structured literacy instruction
    And multisensory techniques enhance learning
    When delivering OG instruction:
      | Instructional Component | Multisensory Technique | Sequence | Assessment | Pacing | Mastery Criteria |
      | Phonological awareness | Sound tapping | Simple to complex | Daily probe | Individual pace | 90% accuracy |
      | Sound-symbol | Sand tracing | Systematic order | Letter naming | Mastery-based | Automatic recall |
      | Syllable types | Color coding | Six types sequence | Syllable division | Cumulative review | Application accuracy |
      | Morphology | Word building | Prefix/suffix study | Structural analysis | Spiral review | Meaning connection |
      | Syntax | Sentence frames | Grammar patterns | Sentence construction | Progressive complexity | Written application |
      | Semantics | Vocabulary webs | Context study | Comprehension check | Multiple exposures | Independent use |
    Then reading skills should build systematically
    And decoding should become automatic
    And comprehension should improve
    And confidence should grow

  # Physical Therapy Protocols
  @protocols @therapy @physical @gait-training @critical @not-implemented
  Scenario: Implement gait training protocols
    Given gait training improves mobility
    And protocols ensure systematic progression
    When conducting gait training:
      | Training Phase | Equipment Used | Progression Parameters | Safety Measures | Data Collection | Functional Goals |
      | Weight bearing | Parallel bars | % body weight | Gait belt, supervision | Weight supported | Standing tolerance |
      | Static balance | Standing frame | Duration, perturbations | Fall prevention | Balance scores | Independent standing |
      | Dynamic balance | Walker progression | Device downgrade | Environmental scan | Berg Balance Scale | Community ambulation |
      | Gait pattern | Treadmill training | Speed, incline | Harness system | Gait analysis | Normal pattern |
      | Endurance | Distance progression | 6-minute walk | Vitals monitoring | Distance covered | Functional distances |
      | Complex tasks | Obstacle navigation | Dual tasks | Graduated challenge | Task completion | Real-world mobility |
    Then gait pattern should normalize
    And independence should increase
    And safety should be maintained
    And function should improve

  # Constraint-Induced Therapy Protocols
  @protocols @therapy @motor @constraint-induced @high @not-implemented
  Scenario: Apply constraint-induced movement therapy
    Given CIMT improves affected limb use
    And intensive practice drives neuroplasticity
    When implementing CIMT protocol:
      | Protocol Element | Implementation | Intensity | Shaping Tasks | Transfer Package | Outcomes |
      | Constraint device | Mitt/sling wear | 90% waking hours | N/A | Safety training | Forced use |
      | Task practice | Repetitive practice | 3-6 hours/day | Progressive difficulty | Home program | Skill acquisition |
      | Shaping | Small steps | Every 30 minutes | Functional tasks | Task analysis | Quality improvement |
      | ADL training | Daily activities | Throughout day | Self-care focus | Family training | Independence |
      | Behavioral contract | Written agreement | Daily review | Goal commitment | Problem solving | Adherence |
      | Follow-up | Maintenance program | Weekly then monthly | Advanced challenges | Booster sessions | Retained gains |
    Then affected limb use should increase
    And movement quality should improve
    And function should transfer
    And gains should maintain

  # Early Intervention Protocols
  @protocols @therapy @early-intervention @family-centered @critical @not-implemented
  Scenario: Deliver family-centered early intervention
    Given early intervention occurs in natural environments
    And families are primary interventionists
    When implementing EI protocols:
      | EI Component | Family Coaching | Natural Routines | Capacity Building | Progress Monitoring | Outcomes |
      | Routine assessment | Interview process | Daily routines mapped | Parent priorities | Routine matrix | Embedded opportunities |
      | Coaching conversations | Joint planning | Within routines | Parent reflection | Coaching fidelity | Parent confidence |
      | Modeling strategies | Demonstration | During activities | Parent practice | Strategy use | Child engagement |
      | Problem solving | Collaborative | Routine challenges | Solution generation | Success tracking | Family solutions |
      | Reflection | Guided questions | What worked/didn't | Self-assessment | Parent insights | Competence growth |
      | Generalization | Strategy expansion | New routines | Independent application | Multiple contexts | Sustained use |
    Then families should feel competent
    And strategies should embed naturally
    And children should progress
    And outcomes should sustain

  # Group Therapy Protocols
  @protocols @therapy @group @social-skills-groups @high @not-implemented
  Scenario: Facilitate structured social skills groups
    Given group therapy provides peer interaction
    And structure supports skill development
    When running group protocols:
      | Group Component | Structure | Activities | Facilitation | Data Collection | Outcomes |
      | Opening circle | Predictable routine | Greetings, agenda | Visual supports | Participation tracking | Engagement |
      | Skill instruction | Direct teaching | Role play, video | Multiple modalities | Skill demonstration | Concept understanding |
      | Practice activities | Structured games | Cooperative tasks | Guided interaction | Peer interaction data | Skill application |
      | Free play | Semi-structured | Choice time | Facilitated as needed | Natural observation | Generalization |
      | Reflection | Closing circle | What learned/liked | Self-assessment | Self-awareness data | Metacognition |
      | Parent component | Take-home strategies | Weekly tips | Parent communication | Home practice | Carryover |
    Then social skills should develop
    And peer relationships should form
    And generalization should occur
    And confidence should build

  # Transition Planning Protocols
  @protocols @therapy @transition @post-secondary @critical @not-implemented
  Scenario: Implement transition planning protocols
    Given transition planning prepares for adulthood
    And coordination across settings is essential
    When following transition protocols:
      | Planning Area | Assessment Tools | Goal Development | Service Coordination | Skill Training | Outcomes |
      | Vocational | Interest inventories | Career exploration | VR services | Job skills | Employment readiness |
      | Educational | Academic assessment | Post-secondary planning | College disability services | Study skills | Education continuation |
      | Independent living | Life skills checklist | Living skill goals | Community resources | ADL training | Living competence |
      | Social/recreational | Leisure assessment | Community participation | Recreation programs | Social navigation | Community integration |
      | Health management | Health literacy | Self-advocacy goals | Adult providers | Medical management | Healthcare independence |
      | Transportation | Travel assessment | Mobility planning | Transit training | Travel skills | Independent mobility |
    Then transition readiness should increase
    And adult services should connect
    And independence should develop
    And outcomes should align with goals

  # Augmentative Communication Protocols
  @protocols @therapy @aac @device-implementation @critical @not-implemented
  Scenario: Implement comprehensive AAC protocols
    Given AAC requires systematic implementation
    And multi-modal approach optimizes communication
    When implementing AAC protocol:
      | Protocol Phase | Assessment | Device Selection | Training Plan | Environmental Setup | Outcome Measures |
      | Feature matching | Skills assessment | Trial period | Competency levels | Access optimization | Device acceptance |
      | Vocabulary selection | Core word inventory | Customization | Word teaching | Visual supports | Vocabulary use |
      | Access training | Motor assessment | Access method | Progressive practice | Positioning | Access efficiency |
      | Partner training | Communication assessment | Partner strategies | Coaching sessions | Environmental cues | Partner responsiveness |
      | Integration | Participation assessment | Multi-modal planning | Context practice | Opportunity creation | Functional use |
      | Maintenance | Ongoing monitoring | Updates/repairs | Refresher training | Environmental review | Sustained use |
    Then AAC should be functional
    And communication should increase
    And participation should expand
    And independence should develop

  # Executive Function Protocols
  @protocols @therapy @cognitive @executive-function @high @not-implemented
  Scenario: Deliver executive function intervention protocols
    Given executive functions underlie daily success
    And systematic intervention improves skills
    When implementing EF protocols:
      | EF Domain | Intervention Strategy | Practice Context | Scaffolding | Generalization | Measurement |
      | Working memory | Memory strategies | Academic tasks | Visual supports fade | Multiple subjects | Digit span improvement |
      | Inhibitory control | Stop signal practice | Game-based | Increasing challenge | Real situations | Response accuracy |
      | Cognitive flexibility | Set-shifting tasks | Problem variations | Rule changes | Novel problems | Switch cost reduction |
      | Planning | Goal-setting practice | Project planning | Templates to independence | Daily planning | Goal achievement |
      | Organization | System development | Materials and time | External to internal | Life domains | Organization ratings |
      | Self-monitoring | Metacognitive training | Error detection | Rubrics to self-check | Independent use | Self-correction rate |
    Then executive functions should improve
    And strategies should internalize
    And academic performance should benefit
    And independence should increase

  # Telehealth Protocols
  @protocols @therapy @telehealth @remote-delivery @critical @not-implemented
  Scenario: Adapt therapy protocols for telehealth delivery
    Given telehealth requires protocol modifications
    And engagement strategies differ remotely
    When delivering telehealth protocols:
      | Protocol Adaptation | Technology Setup | Engagement Strategies | Parent Coaching | Progress Monitoring | Outcomes |
      | Environment setup | Camera positioning | Virtual backgrounds | Space arrangement | Setup checklist | Optimal conditions |
      | Material adaptation | Digital materials | Screen sharing | Parent as hands | Digital data | Skill maintenance |
      | Interaction modification | Turn-taking cues | Animation/games | Facilitation coaching | Engagement metrics | Active participation |
      | Movement activities | Space assessment | Modified movements | Safety supervision | Video analysis | Motor goals met |
      | Attention maintenance | Shorter segments | Frequent breaks | Reinforcement systems | Time-on-task data | Sustained engagement |
      | Hybrid planning | Platform integration | Seamless transition | Consistent strategies | Cross-setting data | Flexible delivery |
    Then therapy effectiveness should maintain
    And engagement should remain high
    And families should feel supported
    And outcomes should be achieved