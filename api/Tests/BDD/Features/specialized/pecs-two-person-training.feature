Feature: PECS Two-Person Training Protocols
  As a therapy professional implementing PECS
  I want comprehensive two-person training support
  So that I can ensure proper prompting procedures and successful PECS implementation

  Background:
    Given PECS two-person training system is configured
    And training protocols are evidence-based
    And role assignments are clear
    And prompting procedures are standardized
    And communication partner training is available

  # Core Two-Person Training Workflows
  @specialized @pecs @two-person-training @critical @not-implemented
  Scenario: Implement Phase 1 two-person prompting procedure
    Given I am implementing Phase 1 PECS training
    And two communication partners are available
    When conducting two-person Phase 1 training:
      | Session | Communicative Partner Role | Physical Prompter Role | Student Response | Prompt Level | Exchange Success | Coordination Quality | Notes |
      | 1       | Holds preferred item visible| Full hand-over-hand   | Reached for item | 100% physical   | 8/10 exchanges  | Good timing     | Student motivated |
      | 2       | Shows item, waits patiently | Guides hand to picture | Grabbed picture  | 90% physical    | 9/10 exchanges  | Excellent sync  | Quick learning   |
      | 3       | Receives picture exchange   | Light touch prompt     | Independent grab | 50% physical    | 10/10 exchanges | Perfect flow    | Ready to fade    |
      | 4       | Natural interaction         | Shadow prompting       | Spontaneous     | 20% physical    | 9/10 exchanges  | Seamless       | Great progress   |
      | 5       | Responsive to exchange      | No prompting needed    | Independent     | 0% physical     | 10/10 exchanges | Natural        | Mastery emerging |
      | 6       | Multiple items available    | Monitoring only        | Discriminating  | 0% physical     | 9/10 exchanges  | Coordinated    | Phase 2 ready   |
    Then two-person coordination should be documented
    And prompting procedures should be systematic
    And role clarity should be maintained
    And student progress should be evident

  @specialized @pecs @two-person-training @role-coordination @high @not-implemented
  Scenario: Coordinate roles between communication partner and prompter
    Given PECS training requires precise role coordination
    And both partners understand their responsibilities
    When managing role coordination:
      | Training Phase | Communicative Partner Tasks | Physical Prompter Tasks | Timing Coordination | Communication Signals | Quality Indicators |
      | Phase 1        | Hold/show reinforcer        | Guide physical exchange | Wait for reach      | Eye contact cues     | Smooth transitions |
      | Phase 2        | Move around space          | Fade proximity prompts  | Follow partner      | Gesture signals     | Natural movement   |
      | Phase 3        | Present choice arrays      | Support discrimination  | Simultaneous setup  | Verbal coordination | Clear choices      |
      | Phase 4        | Model sentence building    | Assist construction     | Sequential support  | Shared counting     | Accurate building  |
      | Phase 5        | Ask "What do you want?"    | No interference        | Partner leads       | Silent monitoring   | Student responding |
      | Phase 6        | Engage in conversation     | Environmental setup     | Natural interaction | Discrete signals    | Rich communication |
    Then role boundaries should be clear
    And coordination should be seamless
    And student confusion should be minimized
    And training efficiency should be maximized

  @specialized @pecs @two-person-training @prompt-fading @high @not-implemented
  Scenario: Systematically fade prompting across partners
    Given prompting must be faded systematically
    And both partners coordinate prompt reduction
    When implementing prompt fading protocol:
      | Week | Communicative Partner Prompts | Physical Prompter Prompts | Student Independence | Success Rate | Coordination Notes | Next Steps |
      | 1    | Full demonstration           | Full hand-over-hand       | 0%                  | 60%         | Learning roles     | Continue modeling |
      | 2    | Partial modeling            | 3/4 physical guidance     | 10%                 | 75%         | Good coordination  | Reduce physical   |
      | 3    | Gestural cues only          | 1/2 physical guidance     | 30%                 | 80%         | Smooth fading      | More independence |
      | 4    | Expectant waiting           | Light touch prompts       | 50%                 | 85%         | Excellent timing   | Minimal prompts   |
      | 5    | Natural interactions        | Shadow prompting          | 70%                 | 90%         | Nearly independent | Monitor only      |
      | 6    | Responsive only             | Environmental support     | 85%                 | 95%         | Mastery level     | Generalization    |
    Then prompting should decrease systematically
    And independence should increase correspondingly
    And coordination should remain consistent
    And student success should be maintained

  @specialized @pecs @two-person-training @partner-training @critical @not-implemented
  Scenario: Train communication partners in PECS procedures
    Given communication partners need specific training
    And consistent implementation is crucial
    When providing partner training:
      | Partner Type    | Training Components         | Practice Activities      | Competency Check    | Ongoing Support     | Fidelity Monitoring |
      | Parents         | Home implementation        | Role-play exercises     | Video review        | Weekly check-ins    | Monthly observations|
      | Teachers        | Classroom integration      | Student-specific practice| Competency test     | Bi-weekly support   | Classroom visits    |
      | Aides           | Support procedures         | Hands-on training       | Demonstration       | Daily briefings     | Direct supervision  |
      | Siblings        | Natural interaction        | Play-based practice     | Informal assessment | Family meetings     | Parent monitoring   |
      | Therapists      | Clinical protocols         | Advanced techniques     | Certification       | Peer consultation   | Professional review |
      | Volunteers      | Basic procedures           | Supervised practice     | Skills checklist    | Regular training    | Coordinator oversight|
    Then partners should demonstrate competency
    And implementation should be consistent
    And student outcomes should be maintained
    And fidelity should be monitored

  @specialized @pecs @two-person-training @troubleshooting @medium @not-implemented
  Scenario: Troubleshoot common two-person training challenges
    Given two-person training can present challenges
    When encountering coordination difficulties:
      | Challenge Type         | Specific Issue              | Impact on Student    | Intervention Strategy        | Success Indicators     | Prevention Measures    |
      | Timing misalignment   | Partners act simultaneously | Student confusion    | Clear signal system         | Smooth exchanges       | Practice coordination  |
      | Role confusion        | Both try to prompt         | Over-prompting       | Role clarity training       | Distinct responsibilities| Written role cards     |
      | Inconsistent prompting| Different prompt levels    | Slow progress        | Standardized procedures     | Consistent implementation| Regular practice      |
      | Communication breakdown| Partners don't coordinate  | Inefficient sessions | Communication protocols     | Clear interactions     | Pre-session planning   |
      | Student preference    | Prefers one partner        | Limited generalization| Balanced interaction        | Equal engagement       | Systematic rotation    |
      | Schedule conflicts    | Partners unavailable       | Inconsistent training| Flexible scheduling         | Regular sessions       | Multiple trained partners|
    Then challenges should be addressed systematically
    And solutions should be evidence-based
    And student progress should resume
    And partnership should be strengthened

  # Advanced Two-Person Training Features
  @specialized @pecs @two-person-training @generalization @high @not-implemented
  Scenario: Train multiple communication partners for generalization
    Given generalization requires multiple partners
    And each partner needs specific training
    When training multiple communication partners:
      | Setting      | Primary Partner | Secondary Partners | Training Focus       | Practice Schedule   | Competency Level   | Student Response   |
      | Home         | Mother         | Father, siblings   | Daily routines      | Evening practice    | Proficient         | Natural exchanges  |
      | School       | Teacher        | Aides, peers       | Academic activities | Morning training    | Developing         | Classroom success  |
      | Community    | Therapist      | Store clerks       | Public interactions | Weekly outings      | Basic              | Generalized use    |
      | Extended family| Grandmother   | Aunts, cousins     | Family gatherings   | Holiday preparation | Learning           | Social engagement  |
      | Daycare      | Provider       | Staff assistants   | Care routines       | Daily implementation| Competent          | Consistent use     |
      | Playground   | Supervisor     | Peer buddies       | Play activities     | Recess periods      | Trained            | Peer interaction   |
    Then multiple partners should be competent
    And generalization should be systematic
    And student communication should be consistent
    And natural interactions should increase

  @specialized @pecs @two-person-training @special-populations @medium @not-implemented
  Scenario: Adapt two-person training for special populations
    Given some students require specialized approaches
    And partners may need additional support
    When adapting training for special needs:
      | Student Population    | Specific Adaptations        | Partner Modifications       | Special Considerations      | Success Adaptations        | Monitoring Adjustments     |
      | Autism + ID          | Slower pacing, more practice| Extra patience, repetition  | Sensory needs              | Smaller steps              | Extended timelines         |
      | Physical disabilities| Accessible positioning      | Adaptive equipment training | Safety protocols           | Modified movements         | Equipment checks           |
      | Visual impairments   | Tactile alternatives        | Spatial awareness training  | Orientation considerations | Touch-based success        | Safety monitoring          |
      | Hearing impairments  | Visual communication        | Sign language integration   | Attention getting methods  | Visual success indicators  | Visual monitoring          |
      | Behavioral challenges| Proactive strategies        | De-escalation training      | Antecedent management      | Behavior-specific success  | Continuous monitoring      |
      | Medical complexity   | Health considerations       | Medical awareness training  | Emergency protocols        | Health-adapted goals       | Medical coordination       |
    Then adaptations should maintain PECS integrity
    And partner training should be comprehensive
    And student safety should be ensured
    And progress should be individualized

  @specialized @pecs @two-person-training @data-collection @critical @not-implemented
  Scenario: Coordinate data collection between partners
    Given both partners must collect accurate data
    And data drives instructional decisions
    When implementing coordinated data collection:
      | Data Type             | Communicative Partner Role  | Physical Prompter Role      | Data Integration Method     | Reliability Checks         | Decision Making            |
      | Exchange frequency    | Count successful exchanges  | Track prompting levels      | Combined session sheet     | Inter-observer agreement   | Weekly team meetings       |
      | Prompt dependency     | Note natural opportunities  | Document prompt fading      | Shared electronic system   | Video review sessions      | Data-driven adjustments    |
      | Generalization       | Record setting variations   | Track consistency across   | Multi-setting forms        | Cross-setting reliability  | Expansion planning         |
      | Communication functions| Document message types     | Note support needed        | Function-based tracking    | Functional analysis        | Function expansion         |
      | Problem behaviors    | Track behavioral patterns   | Document behavior supports | Incident reporting system  | Behavioral data review     | Intervention modifications |
      | Student preferences  | Monitor motivator effectiveness| Track reinforcer use     | Preference monitoring      | Regular reassessment       | Material updates           |
    Then data should be comprehensive and reliable
    And both partners should contribute accurately
    And decisions should be data-driven
    And student progress should be optimized

  @specialized @pecs @two-person-training @training-progression @high @not-implemented
  Scenario: Progress partners through training competency levels
    Given partners develop skills over time
    And competency must be systematically built
    When implementing progressive partner training:
      | Competency Level | Training Components          | Practice Requirements       | Assessment Method          | Advancement Criteria       | Support Provided           |
      | Novice          | Basic PECS overview         | Observe 5 sessions         | Knowledge quiz             | 80% on assessment          | Direct supervision         |
      | Developing      | Role-specific training      | Co-lead 10 sessions        | Skill demonstration        | Independent role execution | Guided practice            |
      | Proficient      | Advanced procedures         | Lead with support          | Video review               | Consistent implementation  | Peer consultation          |
      | Advanced        | Troubleshooting skills      | Independent sessions       | Student outcome data       | Student progress           | Minimal oversight          |
      | Expert          | Training other partners     | Mentor new partners        | Training evaluation        | Others achieve competency  | Consultant role            |
      | Master          | Program adaptation          | Develop new protocols      | Innovation outcomes        | System improvements        | Leadership position        |
    Then partner competency should develop systematically
    And training should be individualized
    And student outcomes should improve
    And program quality should be sustained

  # Error Handling and Quality Assurance
  @specialized @pecs @two-person-training @error @coordination-breakdown @medium @not-implemented
  Scenario: Handle communication breakdown between partners
    Given partner coordination may break down
    When communication issues arise:
      | Breakdown Type        | Symptoms                    | Immediate Response          | Repair Strategy            | Prevention Plan            | Success Indicators         |
      | Signal misunderstanding| Wrong timing, confusion    | Stop and reset             | Review signal system       | Practice signals           | Smooth coordination        |
      | Role boundary violations| Both partners prompt      | Clarify roles immediately  | Role-specific training     | Written role definitions   | Clear role execution       |
      | Disagreement on approach| Conflicting methods       | Default to lead partner    | Team meeting for alignment | Consensus building         | Unified approach           |
      | Different standards    | Inconsistent expectations  | Use program standards      | Calibration training       | Regular norming sessions   | Consistent standards       |
      | Personality conflicts  | Tension affects training   | Professional focus         | Mediation if needed        | Team building activities   | Collaborative atmosphere   |
      | Schedule misalignment  | Partners unavailable       | Backup partner system      | Flexible scheduling        | Multiple trained partners  | Regular availability       |
    Then breakdowns should be addressed quickly
    And repairs should be systematic
    And prevention should be prioritized
    And student impact should be minimized

  @specialized @pecs @two-person-training @error @student-confusion @high @not-implemented
  Scenario: Address student confusion from multiple partners
    Given students may become confused with multiple partners
    When student confusion occurs:
      | Confusion Type         | Student Behaviors           | Partner Response            | Clarification Strategy     | Consistency Measures       | Resolution Indicators      |
      | Different expectations | Looks back and forth       | Partners align immediately | Standardize expectations   | Written procedures         | Clear student behavior     |
      | Conflicting signals    | Freezes or stops           | One partner leads          | Signal coordination        | Practice sessions          | Responsive behavior        |
      | Prompt dependency      | Waits for specific partner | Vary partner roles         | Systematic prompt fading   | Rotation schedule          | Partner independence       |
      | Preference for one     | Only responds to favorite  | Balanced interaction       | Motivation strategies      | Equal positive interaction | Equal responsiveness       |
      | Overwhelmed by attention| Shuts down or escapes     | Reduce intensity           | Gradual introduction       | Calm approach             | Comfortable engagement     |
      | Inconsistent rewards   | Variable motivation        | Standardize reinforcement  | Shared reinforcer menu     | Consistent delivery        | Stable motivation          |
    Then confusion should be minimized
    And student comfort should be prioritized
    And consistency should be established
    And learning should resume

  @specialized @pecs @two-person-training @error @fidelity-monitoring @critical @not-implemented
  Scenario: Monitor and maintain training fidelity
    Given training fidelity is crucial for success
    When implementing fidelity monitoring:
      | Fidelity Component     | Monitoring Method           | Frequency                  | Quality Standards          | Corrective Actions         | Improvement Tracking       |
      | Role adherence         | Direct observation         | Weekly sessions            | 90% role accuracy          | Role clarification training| Percentage improvement     |
      | Prompting procedures   | Video review               | Bi-weekly analysis         | Protocol compliance        | Procedure refresher        | Compliance scores          |
      | Timing coordination    | Real-time feedback         | Every session              | Smooth transitions         | Timing practice            | Coordination ratings       |
      | Data collection accuracy| Inter-rater reliability   | Monthly checks             | 80% agreement minimum      | Data training              | Agreement percentages      |
      | Student engagement     | Engagement measures        | Continuous monitoring      | Active participation       | Motivation strategies      | Engagement levels          |
      | Communication quality  | Interaction analysis       | Weekly review              | Natural communication      | Communication coaching     | Quality improvements       |
    Then fidelity should be maintained at high levels
    And monitoring should be systematic
    And improvements should be documented
    And student outcomes should be optimized

  @specialized @pecs @two-person-training @sustainability @medium @not-implemented
  Scenario: Ensure sustainable two-person training implementation
    Given training programs must be sustainable
    When planning for long-term sustainability:
      | Sustainability Factor  | Current State              | Sustainability Strategy     | Resource Requirements      | Success Indicators         | Monitoring Plan            |
      | Partner availability   | 2 trained partners        | Train 4+ partners          | Training time and materials| Always 2+ available        | Monthly availability check |
      | Training maintenance   | Initial training complete  | Ongoing refresher schedule | Quarterly training sessions| Maintained competency      | Competency assessments     |
      | System adaptation      | Basic protocol in place    | Flexible adaptation process| Problem-solving protocols  | Responsive to changes      | Adaptation tracking        |
      | Quality assurance      | Manual monitoring          | Systematic quality system  | Monitoring tools/time      | Consistent high quality    | Quality metrics            |
      | Cost effectiveness     | High initial investment    | Efficient ongoing operations| Streamlined procedures     | Reduced cost per session   | Cost analysis              |
      | Outcome maintenance    | Early positive results     | Long-term progress tracking| Data collection systems    | Sustained student progress | Outcome measurements       |
    Then sustainability should be systematically planned
    And resources should be adequate
    And quality should be maintained
    And outcomes should be sustained

  @specialized @pecs @two-person-training @family-integration @high @not-implemented
  Scenario: Integrate family members as communication partners
    Given families are essential communication partners
    And family integration requires special consideration
    When integrating family members:
      | Family Member | Current Involvement | Training Needs             | Practice Opportunities     | Support Requirements       | Success Indicators         |
      | Primary caregiver| Daily interactions | Comprehensive PECS training| Home routines integration  | Weekly consultation        | Home generalization        |
      | Secondary parent | Limited involvement| Role-specific training     | Weekend practice           | Bi-weekly check-ins        | Consistent implementation  |
      | Siblings         | Natural play       | Peer interaction training  | Playtime practice          | Family meeting inclusion   | Sibling engagement         |
      | Grandparents     | Occasional care    | Basic procedure training   | Visit-based practice       | Monthly family sessions    | Visit success              |
      | Extended family  | Social gatherings  | Awareness training         | Family event practice      | Event preparation          | Social participation       |
      | Family friends   | Regular visitors   | Observer training          | Informal practice          | Resource materials         | Natural interactions       |
    Then family integration should be comprehensive
    And training should be family-centered
    And natural interactions should be prioritized
    And family competence should be developed